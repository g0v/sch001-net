- var _team_data = final_datas;
- var _media_data = media_datas;
<!DOCTYPE html>
html(lang="zh-Hant-TW")
    include ../../header.pug    
    link(rel="stylesheet" href="../../styles/power.css")
    link(rel="stylesheet" href="../../styles/power_en.css")
body
    #header-img
        .inner-img.inner-1
        .inner-img.inner-2
    #intros.container-fluid.p-4
        .row.justify-content-center
            .col-12.col-lg-8
                .container
                    h3 Sch001 2020 Final
                    p “Sch001” project puts 0 and 1 representing the digital native generation in the “School”. Starting from February 2020, Sch001 has accumulated 21 Edtech proposals in 3 workshops, 3 g0v hackathons, and selected 6 winning teams on Demo Day, including “Dao Dao Online Learning Platform”, “Traditional Chinese CC0 corpus and Mozilla Common Voice database”, “CoTeach”, “Happiness Bankbook”, “Chatbot for High School Students” and “Literacy Practices Database”. The winning team  members will share the origin and path of development, and give you refreshing new thinking about education.
                    .text-center
                        a.btn.btn-outline-my(href="/" role="button") More Infos
                hr
                mixin teams(_id)
                    .p-2.col-12.col-lg-4
                        .p-4.col-block.h-100
                            a.team-brief(href="/power/#" data-toggle="modal" data-target="#teamModal"+_id data-teamid=_id)
                                .container-fluid.team-img(style=`background-image: url('../../assets/img/teams/${_team_data[_id]['img']}')`)
                            hr
                            h5.text-center #{_team_data[_id]['title_en']}
                            //p #{_team_data[_id]['brief_en']}
                #team-area.row.justify-content-center
                    each val, index in _team_data
                        +teams(index)
                mixin modals(_id)
                    .modal.fade(id="teamModal"+_id tabindex="-1" role="dialog" aria-labelledby="teamModalLabel" aria-hidden="true")
                        .modal-dialog.modal-xl(role="document")
                            .modal-content
                                .modal-header
                                    button.close(type="button" data-dismiss="modal" aria-label="Close")
                                        span(aria-hidden="true") &times;
                                .modal-body
                                    .row.justify-content-center.align-items-center.p-4
                                        .col-12.col-lg-6
                                            .team-img-inner(style=`background-image: url('../../assets/img/teams/${_team_data[_id]['img']}')`)
                                            .p-4.text-center
                                                a.m-1.btn.btn-outline-my(role="button" href=_team_data[_id]['link'] target="_blank") Proposal
                                                a.m-1.btn.btn-outline-my(role="button" href=_team_data[_id]['link2'] target="_blank") Website
                                            
                                        .col-12.col-lg-6.team-disc.p-4
                                            h5 #{_team_data[_id]['title_en']} 
                                            p #{_team_data[_id]['details_en']}
                                            .row
                                                .col-6
                                                    h3 Members
                                                    p.team-members #{_team_data[_id]['members']}
                                                .col-6.pl-4
                                                    h3 License
                                                    p.team-opensource #{_team_data[_id]['opensource']}
                                    hr
                                            
                each val, index in _team_data
                    +modals(index)

                hr
                .text-center
                    a.btn.btn-outline-my(href="https://sch001.g0v.tw/dash/brd/sch001/list" role="button") More Proposals
    #courses.container-fluid.p-4(data-showed="false")
        .row.justify-content-center.align-items-center
            .col-12.col-lg-5
                #carouselPhotos.carousel.slide(data-ride="carousel")
                    ol.carousel-indicators
                        li.active(data-target="#carouselPhotos" data-slide-to="0")
                        li(data-target="#carouselPhotos" data-slide-to="1")
                        li(data-target="#carouselPhotos" data-slide-to="2")
                        li(data-target="#carouselPhotos" data-slide-to="3")
                        li(data-target="#carouselPhotos" data-slide-to="4")
                    .carousel-inner
                        .carousel-item.active
                            .carousel-img(style="background-image: url(../assets/img/slides/1.jpg)")
                        .carousel-item
                            .carousel-img(style="background-image: url(../assets/img/slides/2.jpg)")
                        .carousel-item
                            .carousel-img(style="background-image: url(../assets/img/slides/3.jpg)")
                        .carousel-item
                            .carousel-img(style="background-image: url(../assets/img/slides/4.jpg)")
                        .carousel-item
                            .carousel-img(style="background-image: url(../assets/img/slides/5.jpg)")
                    a.carousel-control-prev(href="#carouselPhotos" role="button" data-slide="prev")
                        span.carousel-control-prev-icon(aria-hidden="true")
                        span.sr-only Previous
                    a.carousel-control-next(href="#carouselPhotos" role="button" data-slide="next")
                        span.carousel-control-next-icon(aria-hidden="true")
                        span.sr-only Next
            #courselist.col-12.col-lg-5.offset-lg-1.p-4
                p
                    span.animatenumbers(data-targetnum="7") 0
                    | Monthly Workshop
                p
                    span.animatenumbers(data-targetnum="8") 0
                    | Speakers
                p
                    span.animatenumbers(data-targetnum="13") 0
                    | Units & Communities
                p
                    span.animatenumbers(data-targetnum="21") 0
                    | Proposals in Workshop
                p
                    span.animatenumbers(data-targetnum="24") 0
                    | Proposals for Demo Day
    #mediareports.container-fluid.p-4
        .row.justify-content-center
            .col-lg-12.col-xl-8
                h3 Media Reports
                #carouselMedias.carousel.slide(data-ride="carousel")
                    .carousel-inner
                        mixin medias(_id)
                            .p-2.col-12.col-lg-3
                                .p-3.col-block.h-100
                                    .media-img(style=`background-image: url('../../assets/img/medias/${_id+1}.jpg')`)
                                    p.media-date #{_media_data[_id]['date']}
                                    p.media-title 
                                        a(href=_media_data[_id]['link'] target="_blank") #{_media_data[_id]['title']}
                        .carousel-item.active
                            .row.p-2
                                each val in [0,1,2,3]
                                    +medias(val)
                                    
                        .carousel-item
                            .row.p-2
                                each val in [4,5,6]
                                    +medias(val)
    #footer.container-fluid.m-0
      p.text-center.m-0.p-0 <a href="https://jothon.g0v.tw/" target="_blank">jothon</a><a href="https://g0v.tw/" target="_blank">g0v</a><a href="https://github.com/g0v/sch001-net" target="_blank">github</a>
    .part-light
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    script.
        $(window).mousemove(function( event ) {
            var xPos = 100*event.pageX/window.innerWidth -50;
            var yPos = 100*event.pageY/window.innerHeight -50;
            $("#header-img .inner-1").css({"background-position": `${50+xPos/20}% ${50+yPos/8}%`});
            $("#header-img .inner-2").css({"background-position": `${50-xPos/5}% ${50-yPos/2}%`});
        });
        
        function runNums(target, targetNum, curNum) {
            $(target).text(curNum);
            if (targetNum > curNum) {
                curNum++;
                setTimeout(function() {
                    runNums(target, targetNum, curNum)
                }, 30);
            }
        }

        $(window).scroll(function(){
            if($(window).scrollTop() + window.innerHeight > $("#courses").offset().top + $("#courses").height()/2 && $("#courses").data("showed") == false){
                $("#courses").data("showed", true);
                var animNumDoms = $(".animatenumbers");
                animNumDoms.each(function(index){
                   var targetNum = $(this).data("targetnum");
                   runNums(`.animatenumbers[data-targetnum=${targetNum}]`, targetNum, 0);
                });
            }
        });
